# 蜂群交配优化算法（Marriage in Honey-bee Optimization，MBO）

## 算法核心方程

蜂群的交配飞行可被视为是一系列**状态间的改变**。蜂王以一定的速度在不同状态间转变，在每一状态下以一定的概率与雄蜂进行交配。

在每次状态改变后，蜂王的速度和能量都会有所衰退，衰退方程为：

![衰退方程1](http://latex.codecogs.com/gif.latex?S(t+1)=𝝰×S(t))
-- 公式(1)

![衰退方程2](http://latex.codecogs.com/gif.latex?E(t+1)=E(t)-𝝲)
-- 公式(2)

> 其中：α∈[0,1]，γ 是状态间改变后能量的衰退值。

在每一个状态下，雄蜂以下面的概率与蜂王进行交配：

![交配概率](http://latex.codecogs.com/gif.latex?prob(Q,D)=e^(\frac{-∆f}{S(t)}))
-- 公式(3)

> 其中 Δ(f) 为雄蜂与蜂王的适应度之差

当蜂王的速度和能量衰减到一定的阈值范围内时，它便飞回蜂巢。

## 算法步骤

1. 随机初始化一个蜂群，蜂群中适应度值最大的个体为蜂王，其余的为雄蜂。

2. 初始化蜂王的速度 S(0) 和能量 E(0)，雄蜂以概率 pi（公式3）与蜂王交配；在 [0,1] 之间选择一个随机数m，如果 pi > m 则表示交配成功，此时可以将雄蜂的染色体存入蜂王的受精囊，雄蜂死亡。按公式(1)、(2)分别更新蜜蜂的速度和能量，直到受精囊满或者蜂王的能量达到预先设定的临界值。

3. 繁殖过程：从受精囊中随机选择一个染色体与蜂王的染色体交叉，产生幼蜂（这里有很多种交叉方法）。然后对幼蜂进行变异操作，以提高解的多样性，直到幼蜂数量达到设定值。

4. 如果适应度最大的幼蜂优于蜂王，则其替代蜂王，否则蜂王不变，其余幼蜂为雄蜂。

5. 判断是否达到最大婚飞次数，如果达到，则停止，否则转至第二步。

> 染色体：每一个染色体代表一个问题的候选解，组成染色体的每个基因代表候选解的一个参数。

> 适应度：对应适应度函数，需要根据具体问题具体定义。


